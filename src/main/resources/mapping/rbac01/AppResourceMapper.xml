<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nevile.rbac01.dao.AppResourceDao">

	<resultMap id="appResourceMapper"
		type="com.nevile.rbac01.pojo.AppResource">
		<id column="resource_id" property="resourceId" />
		<result column="tpdid" property="tpdid" />
		<result column="resource_name" property="resourceName" />
		<result column="resource_des" property="resourceDes" />
		<result column="app" property="app" />
		<result column="operation" property="operation" />
		<result column="create_time" property="createTime" />
		<result column="create_user" property="createUser" />
		<result column="modify_time" property="modifyTime" />
		<result column="modify_by" property="modifyBy" />

	</resultMap>

	<select id="listAppResource" resultMap="appResourceMapper">
		select * from t_resource
	</select>


	<select id="getResourcebyId" resultMap="appResourceMapper">
		select * from T_RESOURCE
	</select>

	<insert id="addListAppResource" parameterType="java.util.List"
		useGeneratedKeys="false">

			insert into t_resource
			(
			resource_id,
			tpdid,
			resource_name,
			resource_des,
			app,
			operation,
			create_time,
			create_user,
			modify_time,
			modify_by
			) 
			<foreach close=")" collection="list" item="item" index="index" open="(" separator="union">
			SELECT
			#{item.resourceId},
			#{item.tpdid},
			#{item.resourceName},
			#{item.resourceDes},
			#{item.app},
			#{item.operation},
			sysdate,
			'test',
			sysdate,
			'test'
			FROM dual
		</foreach>



		
<!-- 		<foreach collection="updateList" item="item" index="index"
			separator=";">
			insert into t_resource
			(
			resource_id,
			tpdid,
			resource_name,
			resource_des,
			app,
			operation,
			create_time,
			create_user,
			modify_time,
			modify_by
			) values
			(
			#{item.resourceId},
			#{item.tpdid},
			#{item.resourceName},
			#{item.resourceDes},
			#{item.app},
			#{item.operation},
			sysdate,
			'test',
			sysdate,
			'test'
			)
		</foreach> -->
	</insert>


	<insert id="addResource" parameterType="com.nevile.rbac01.pojo.AppResource"
		useGeneratedKeys="false">
		insert into t_resource
		(
		resource_id,
		tpdid,
		resource_name,
		resource_des,
		app,
		operation,
		create_time,
		create_user,
		modify_time,
		modify_by
		) values
		(
		#{appResource.resourceId},
		#{appResource.tpdid},
		#{appResource.resourceName},
		#{appResource.resourceDes},
		#{appResource.app},
		#{appResource.operation},
		sysdate,
		'test',
		sysdate,
		'test'
		)
	</insert>

</mapper>
